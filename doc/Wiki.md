# 客户端使用说明

## 图片格式转换

请求特定变换的图片时需要在原请求路径的基础上增加 URL 参数。
例如：`https://example.com/demo.jpg?format=webp&quality=70&width=200&height=500`

参数键说明：

* format 图片格式，非必须。支持格式见后续表格。
* quality 图片质量，非必须。不是所有格式都支持该参数，1-100。
* width 图片宽度，非必须。一般宽度和高度只需要传一个，1-4000。
* height 图片高度，非必须。一般宽度和高度只需要传一个，1-4000。
* 没有任何参数将返回原图。

| **format** | **quality** |  
|------------|-------------|
| jpg        | ✅           | 
| jpeg       | ✅           | 
| png        |             | 
| webp       | ✅           | 
| gif        |             | 
| tif        | ✅           | 
| tiff       | ✅           | 
| avif       | ✅           | 
| svg        |             | 

✅：支持 quality 参数

最佳实践：

* 一般不需要指定 format 和 quality。
* 建议同一个项目中统一使用 width 或 height，不要混用，以提升复用率，减少费用。
* width 或 height 建议使用 50 的倍数，例如 150、200、350/1000 等，以提升复用率，减少费用。

## 音频格式转换

请求特定变换的音频时需要在原请求路径的基础上增加 URL 参数。
例如：`https://example.com/demo.mp3?format=mp3&bitrate=64k`

参数键说明：

* format 音频格式，非必须。支持格式见后续表格
* bitrate 码率，非必须。不是所有格式都支持该参数，部分格式对码率的要求也不一样。如果指定了支持码率的 format，但没有传 bitrate，则使用默认码率 `64k`。
* 没有任何参数将返回原音频。

| **format** | **bitrate** | **bitrate 最小值** |
|------------|-------------|-----------------|
| mp3        | ✅           | 32k             |
| aac        | ✅           | 32k             |
| ac3        | ✅           | 64k             |
| flac       |             |                 |
| m4a        |             |                 |
| wav        |             |                 |

✅：支持 bitrate 参数

最佳实践：

* 一般不需要指定 format 只需要指定码率即可。
* 项目中如果对音频质量要求不高，可统一指定码率 `32k`，以提升复用率，减少费用。

## 不支持的格式

服务端会直接返回原始文件。
